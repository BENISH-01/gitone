<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="css/resume_api.css"/>
    <title>Document</title>
</head>
<body>
    <form>
        <div class="container_fluid main">
          <h1 class="text-center mb-5">Fill Your Details</h1>
          <label class="label_font ">NAME:</label> <input class="style" id="in" onkeyup="add('name',this.value)"/><br><br>
          <label class="label_font">E-mail:</label> <input  class="style" id="emF" onkeyup="add('email',this.value)"/><br><br>
          <label class="label_font">PHONE:</label><input class="style"  id="phoneF" type="tel" onkeyup="add('phone',this.value)"/><br><br>
          <label class="label_font ">ROLE:</label><input  class="style" id="roleF" onkeyup="add('role',this.value)"/><br><br>
          <label class="label_font ">OBJECTIVE:</label><textarea class="style" id="objF" onkeyup="add('objective',this.value)"></textarea><br><br>
       
          <label class="label_font" >SKILLS:</label>
          <input class="style" type="text" onkeyup="add('skills',this.value,0)"/>
          <input class="style" type="text" onkeyup="add('skills',this.value,1)"/>
          <input class="style" type="text" onkeyup="add('skills',this.value,2)"/><br><br>
       
       
       
         <!-- personal -->
         <label class="label_font">AGE:</label><input class="style"  type="number" onkeyup="add('personal_details',this.value,0,'age')"/><br><br>
         <label class="label_font">MARTIAL_STATUS:</label><input class="style"  type="text" onkeyup="add('personal_details',this.value,1,'martial_status')"/><br><br>
         <label class="label_font">GENDER:</label><input class="style"  type="text" onkeyup="add('personal_details',this.value,2,'gender')"/><br><br>
         <label class="label_font">FATHER'S NAME:</label><input class="style"  type="text" onkeyup="add('personal_details',this.value,3,'father_name')"/><br><br>
         <label class="label_font">ADDRESS:</label><input class="style"  type="text" onkeyup="add('personal_details',this.value,4,'address')"/><br><br>
         
           <!-- languages -->
         <label class="label_font">LANGUAGE:</label><input class="style"  type="text" onkeyup="add('language',this.value,0)"/>
                         <input class="style" type="text" onkeyup="add('language',this.value,1)"/>
                         <input class="style" type="text" onkeyup="add('language',this.value,2)"/><br><br>
                        
       
        <!-- intrsest -->
        <label class="label_font">INTREST:</label><input class="style" type="text" onkeyup="add('intrest',this.value,0)"/>
                                <input class="style" type="text" onkeyup="add('intrest',this.value,1)"/>
                                <input class="style" type="text" onkeyup="add('intrest',this.value,2)"/><br><br>
           
          <!-- hobbies -->
         <label class="label_font">Hobbies:</label><input class="style" type="text" onkeyup="add('hobbies',this.value,0)"/>
                                            <input class="style" type="text" onkeyup="add('hobbies',this.value,1)"/>
    
          <!-- education -->
          <label class="label_font">EDUCATION:</label>
          <table class="table">
           <thead>
             <tr>
               <th scope="col">#</th>
               <th scope="col">Course</th>
               <th scope="col">Year</th>
               <th scope="col">Institute</th>
               <th scope="col">Percentage</th>
             </tr>
           </thead>
           <tbody>
             <tr>
               <th scope="row">1</th>
               <td><input type="text" onkeyup="add('education',this.value,0,'course')"/></td>
               <td><input type="number" onkeyup="add('education',this.value,0,'year')"/></td>
               <td><input type="text" onkeyup="add('education',this.value,0,'institute')"/></td>
               <td><input type="number" onkeyup="add('education',this.value,0,'percentage')"/></td>
             </tr>
             <tr>
               <th scope="row">2</th>
               <td><input type="text" onkeyup="add('education',this.value,1,'course')"/></td>
               <td> <input type="number" onkeyup="add('education',this.value,1,'year')"/></td>
               <td><input type="text" onkeyup="add('education',this.value,1,'institute')"/></td>
               <td><input type="number" onkeyup="add('education',this.value,1,'percentage')"/></td>
             </tr>
             <tr>
               <th scope="row">3</th>
               <td><input type="text" onkeyup="add('education',this.value,2,'course')"/></td>
               <td> <input type="number" onkeyup="add('education',this.value,2,'year')"/></td>
               <td><input type="text" onkeyup="add('education',this.value,2,'institute')"/></td>
               <td><input type="number" onkeyup="add('education',this.value,2,'percentage')"/></td>
             </tr>
             <tr>
               <th scope="row">4</th>
               <td><input type="text" onkeyup="add('education',this.value,3,'course')"/></td>
               <td> <input type="number" onkeyup="add('education',this.value,3,'year')"/></td>
               <td><input type="text" onkeyup="add('education',this.value,3,'institute')"/></td>
               <td><input type="number" onkeyup="add('education',this.value,3,'percentage')"/></td>
             </tr>
           </tbody>
         </table>
        <!--certification  -->
        <label class="label_font">CERTIFICATION:</label><br><br>
        <table class="table">
           <thead>
             <tr>
               <th scope="col">#</th>
               <th scope="col">course</th>
               <th scope="col">Institute</th>
               <th scope="col">Duration</th>
               
             </tr>
           </thead>
           <tbody>
               <tr>
                   <th scope="row">1</th>
                   <td><input type="text" onkeyup="add('certification',this.value,0,'course')"/></td>
                   <td><input type="text" onkeyup="add('certification',this.value,0,'institute')"/></td>
                   <td><input type="number" onkeyup="add('certification',this.value,0,'duration')"/></td>
                   
                   
               </tr>
               <tr>
                   <th scope="row">2</th>
                   <td><input type="text" onkeyup="add('certification',this.value,1,'course')"/></td>
                   <td><input type="text" onkeyup="add('certification',this.value,1,'institute')"/></td>
                   <td> <input type="number" onkeyup="add('certification',this.value,1,'duration')"/></td>
                  
                   
               </tr>
           </tbody>
        </table><br><br>
        <!-- project -->
        <label class="label_font">PROJECTS:</label>
        <table class="table">
         <thead>
           <tr>
             <th scope="col">#</th>
             <th scope="col">Title</th>
             <th scope="col">Abstract</th>
            
           </tr>
         </thead>
         <tbody>
           <tr>
             <th scope="row">1</th>
             <td><input type="text" onkeyup="add('project',this.value,0,'project_title')"/></td>
             <td><textarea type="text" onkeyup="add('project',this.value,0,'abstract')"></textarea></td>
            
           </tr>
           <tr>
             <th scope="row">2</th>
             <td><input type="text" onkeyup="add('project',this.value,1,'project_title')"/></td>
             <td><textarea type="text" onkeyup="add('project',this.value,1,'abstract')"></textarea></td>
             
           </tr>
          
         </tbody>
       </table><br><br>
       
        <!-- experience -->
        <label class="label_font">EXPERIENCE:</label><br><br>
        
        <table class="table">
           <thead>
             <tr>
               <th scope="col">#</th>
               <th scope="col">Organization</th>
               <th scope="col">Role</th>
               <th scope="col">Working_year</th>
               <th scope="col">Contact_information</th>
             </tr>
           </thead>
           <tbody>
             <tr>
               <th scope="row">1</th>
               <td><input type="text" onkeyup="add('experience',this.value,0,'org')"/></td>
               <td><input type="text" onkeyup="add('experience',this.value,0,'role')"/></td>
               <td><input type="text" onkeyup="add('experience',this.value,0,'work_year')"/></td>
               <td><input type="number" onkeyup="add('experience',this.value,0,'contact_info')"/></td>
             </tr>
             <tr>
               <th scope="row">2</th>
               <td><input type="text" onkeyup="add('experience',this.value,1,'org')"/></td>
               <td> <input type="text" onkeyup="add('experience',this.value,1,'role')"/></td>
               <td><input type="text" onkeyup="add('experience',this.value,1,'work_year')"/></td>
               <td><input type="number" onkeyup="add('experience',this.value,1,'contact_info')"/></td>
             </tr>
           
           </tbody>
         </table><br><br>
       
       
       
          
         
        </div>
        
    
       </form>
       <div class="container-fluid  main main1 p-5">
          <div id="code"></div>
          <button id="submit"  class="btn btn-primary ">Submit</button>
            <button id="list" onclick="resume_list()" class="btn btn-success listbtn">Resume lists</button>
            <ul id="new_resume" class="text-center" >
              
            </ul>
       </div>
       <!-- script -->
       <script src="https://code.jquery.com/jquery-3.6.1.min.js"
       integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"></script>

       <script >

        let resume1={
    
    
}

function add(key,value,index=null,indexKey=null){
    if(index==null){
        resume1[key]=value;
    }
    else if(key=="education" || key=="certification" || key=="experience" ||key=="project"){
        if(!resume1[key]){
            resume1[key]=[];
        }
        if(!resume1[key][index]){
            resume1[key][index]={}

        } 
        
        resume1[key][index][indexKey]=value
    }
    else if(key=="personal_details"){
        if(!resume1[key]){
            resume1[key]={}
          
        }
        resume1[key][indexKey]=value;
    }
  

    else if(key=="intrest" || key=="hobbies" || key=="skills" || key=="language"){
        if(!resume1[key]){
            resume1[key]=[]
        }
        resume1[key][index]=value
    }

    

    else{
        resume1[key][index]=value;
    }
    
    


}


$(document).ready(function(){
    $("#submit").click(function(){
        $.ajax({
            type:"post",
            url:" http://karka.academy/api/action.php",
            data:{
                request:"create_resume",
                user:"benish",
                resume1
            },
            success:function(data){
                console.log(data)
                }
            
        })
    })
})


</script>
</body>



</html>